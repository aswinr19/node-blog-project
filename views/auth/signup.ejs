<!DOCTYPE html>
<html lang="en">
  <%- include('../partials/head.ejs') %>
  <body>
    <%- include('../partials/nav.ejs') %>
    <h2 class="title">Signup</h2>
    <div class="form">
      <form>
        <label for="fname">First Name</label><br />
        <input type="text" id="fname" name="fname" /><br />
        <label for="lname">Last Name</label><br />
        <input type="text" id="lname" name="lname" /><br />
        <label for="email">Email</label><br />
        <input type="text" id="email" name="email" /><br />
        <label for="password">Password</label><br />
        <input type="password" id="password" name="password" /><br />
        <input class="btn" type="submit" value="signup" name="submit" />
        <p>
          Already have an account? <a href="/signin" class="link">signin</a>
        </p>
      </form>
    </div>
    <%- include('../partials/footer.ejs') %>
  </body>
  <script>
    const form = document.querySelector("form");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      const fname = document.getElementById("fname");
      const lname = document.getElementById("lname");
      const email = document.getElementById("email");
      const password = document.getElementById("password");

      try {
        const res = await fetch("/signup", {
          method: POST,
          body: JSON.stringify({ fname, lname, email, password }),
          headers: { "Content-Type": "application/json" },
        });
      } catch (err) {
        console.log(err);
      }
    });
  </script>
</html>
