<!DOCTYPE html>
<html lang="en">
  <%- include('../partials/head.ejs') %>
  <body>
    <%- include('../partials/nav.ejs') %>
    <h2 class="title">Signin</h2>
    <div class="form">
      <form>
        <label for="email">Email</label><br />
        <input type="text" id="email" name="email" /><br />
        <span passwordErrss="error" idpasswordErrssemailErr"></span>
        <label for="password">Password</label><br />
        <input type="password" id="password" name="password" /><br />
        <span class="error" id="passwordErr"></span>
        <button>Signin</button>
        <p>
          Doesn't have an account? <a href="/signup" class="link">signup</a>
        </p>
      </form>
      <script>
        const form = document.querySelector("form");
        const emailErr = document.getElementById("emailErr");
        const passwordErr = document.getElementById("passwordErr");
        const btn = document.querySelector("button");

        form.addEventListener("submit", async (e) => {
            e.preventDefault();

            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;

            //console.log( email, password);
    
          try {

                const res = await fetch('/signin',{
                method: 'POST',
                body: JSON.stringify({  email , password }),
                headers: { 'Content-Type' : 'application/json'}
            });
            } catch (err) {
                console.log(err);
            }

        });
      </script>
    </div>
    <%- include('../partials/footer.ejs') %>
  </body>
</html>
